# å®éªŒ 1ï¼šUDP å¥—æ¥å£é€šä¿¡å®éªŒ - è¿è¡ŒæŒ‡å—

## ğŸ“ æ–‡ä»¶ç»“æ„

```
code/1.1/
â”œâ”€â”€ udp_server.c   # UDPæœåŠ¡å™¨æºä»£ç 
â”œâ”€â”€ udp_client.c   # UDPå®¢æˆ·ç«¯æºä»£ç 
â”œâ”€â”€ Makefile       # ç¼–è¯‘è„šæœ¬
â””â”€â”€ README.md      # æœ¬æŒ‡å—
```

---

## ğŸ–¥ï¸ è¿è¡Œç¯å¢ƒ

**VMware + Ubuntu è™šæ‹Ÿæœº**

---

## ğŸš€ è¿è¡Œæ­¥éª¤

### 1. å°†ä»£ç å¤åˆ¶åˆ° Ubuntu è™šæ‹Ÿæœº

**æ–¹æ³•ä¸€ï¼šVMware å…±äº«æ–‡ä»¶å¤¹ï¼ˆæ¨èï¼‰**

1. VMware èœå• â†’ è™šæ‹Ÿæœº â†’ è®¾ç½® â†’ é€‰é¡¹ â†’ å…±äº«æ–‡ä»¶å¤¹
2. å¯ç”¨å…±äº«ï¼Œæ·»åŠ  Windows ä¸­çš„é¡¹ç›®ç›®å½•
3. åœ¨ Ubuntu ä¸­è®¿é—®ï¼š`/mnt/hgfs/å…±äº«æ–‡ä»¶å¤¹å/`

**æ–¹æ³•äºŒï¼šç›´æ¥æ‹–æ‹½å¤åˆ¶**

å°†æ•´ä¸ª `1.1` æ–‡ä»¶å¤¹æ‹–å…¥ Ubuntu æ¡Œé¢æˆ–ä¸»ç›®å½•

**æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ scp**

```bash
# åœ¨ Ubuntu ç»ˆç«¯ï¼Œä» Windows å¤åˆ¶ï¼ˆéœ€è¦çŸ¥é“ Windows IPï¼‰
scp -r user@windows_ip:/path/to/1.1 ~/
```

### 2. æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd ~/1.1
# æˆ–å…±äº«æ–‡ä»¶å¤¹è·¯å¾„ï¼š
# cd /mnt/hgfs/ä½ çš„å…±äº«æ–‡ä»¶å¤¹å/code/1.1
```

### 3. å®‰è£…ç¼–è¯‘å·¥å…·ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

```bash
sudo apt update
sudo apt install build-essential net-tools -y
```

### 4. ç¼–è¯‘

```bash
make
```

æˆåŠŸè¾“å‡ºï¼š

```
gcc -g -Wall -O2 -o udp_server udp_server.c
[OK] udp_server compiled successfully.
gcc -g -Wall -O2 -o udp_client udp_client.c
[OK] udp_client compiled successfully.
```

### 5. è¿è¡Œæµ‹è¯•

**éœ€è¦æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯çª—å£ï¼**

**ç»ˆç«¯ 1 - å¯åŠ¨æœåŠ¡å™¨ï¼š**

```bash
./udp_server
```

è¾“å‡ºï¼š

```
[Server] UDP socket created successfully.
[Server] Bindied to port 8888, waiting for messages...
```

**ç»ˆç«¯ 2 - å¯åŠ¨å®¢æˆ·ç«¯ï¼š**

```bash
cd ~/1.1   # è¿›å…¥ç›¸åŒç›®å½•
./udp_client
```

### 6. æµ‹è¯•é€šä¿¡

åœ¨å®¢æˆ·ç«¯ç»ˆç«¯è¾“å…¥æ¶ˆæ¯ï¼š

```
Enter message: Hello, UDP Server!
[Client] Message sent to server.
[Client] Server response: [Echo] Hello, UDP Server!
----------------------------------------
Enter message: quit
```

è¾“å…¥ `quit` æˆ– `exit` ç»“æŸç¨‹åºã€‚

---

## ğŸ“¸ æˆªå›¾è¦æ±‚

å®éªŒæŠ¥å‘Šæˆªå›¾å¿…é¡»åŒ…å«ï¼š

1. âœ… æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„è¿è¡Œç»“æœ
2. âœ… æœ¬æœº MAC åœ°å€
3. âš ï¸ **å¿…é¡»åœ¨åŒä¸€å¼ å›¾å†…ï¼**

### è·å– MAC åœ°å€

```bash
# æ–¹æ³•1
ip link show | grep ether

# æ–¹æ³•2
ifconfig | grep ether
```

### ğŸ“· æ¨èæˆªå›¾æ–¹å¼

åœ¨ä¸€ä¸ªç»ˆç«¯ä¸­æ‰§è¡Œï¼š

```bash
echo "=== MAC Address ===" && ip link show | grep ether && echo ""
```

ç„¶åæˆªå›¾æ—¶ç¡®ä¿æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çª—å£éƒ½å¯è§ã€‚

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: make å‘½ä»¤æ‰¾ä¸åˆ°ï¼Ÿ

```bash
sudo apt install build-essential -y
```

### Q: ifconfig å‘½ä»¤æ‰¾ä¸åˆ°ï¼Ÿ

```bash
sudo apt install net-tools -y
```

### Q: ç«¯å£ 8888 è¢«å ç”¨ï¼Ÿ

```bash
# æŸ¥çœ‹å ç”¨è¿›ç¨‹
sudo lsof -i :8888
# ä¿®æ”¹ä»£ç ä¸­çš„ SERVER_PORT ä¸ºå…¶ä»–å€¼ï¼ˆå¦‚ 9999ï¼‰
```

### Q: æƒé™ä¸è¶³ï¼Ÿ

```bash
chmod +x udp_server udp_client
```

### Q: æ¸…ç†ç¼–è¯‘äº§ç‰©ï¼Ÿ

```bash
make clean
```

---

## ğŸ“ ä»£ç è¯´æ˜

### UDP å…³é”®å‡½æ•°

| å‡½æ•°                             | ä½œç”¨            |
| -------------------------------- | --------------- |
| `socket(AF_INET, SOCK_DGRAM, 0)` | åˆ›å»º UDP å¥—æ¥å£ |
| `bind()`                         | ç»‘å®šåœ°å€å’Œç«¯å£  |
| `sendto()`                       | å‘é€ UDP æ•°æ®åŒ… |
| `recvfrom()`                     | æ¥æ”¶ UDP æ•°æ®åŒ… |
| `close()`                        | å…³é—­å¥—æ¥å£      |

### æœåŠ¡å™¨ç«¯æµç¨‹

1. åˆ›å»ºå¥—æ¥å£ â†’ 2. ç»‘å®šç«¯å£ â†’ 3. æ¥æ”¶æ¶ˆæ¯ â†’ 4. å›æ˜¾æ¶ˆæ¯ â†’ 5. å…³é—­

### å®¢æˆ·ç«¯æµç¨‹

1. åˆ›å»ºå¥—æ¥å£ â†’ 2. å‘é€æ¶ˆæ¯ â†’ 3. æ¥æ”¶å›å¤ â†’ 4. å…³é—­
