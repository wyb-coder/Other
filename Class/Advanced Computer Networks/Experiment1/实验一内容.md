高级套接口编程实验

# 1

实验 1：udp 套接口通信实验

## 1.1

目标：

在这个实验中，您将学会使用标准的 POSIX 套接口标准函数，满足客户端和服务器的通信需求。

l 建立 udp 套接口

l 接收与发送 udp 数据包

l 解析与处理 udp 数据包

## 1.2

预备知识：

l 熟悉 udp 套接口函数使用方法

## 1.3

实验预计时间：

30 分钟左右

## 1.4

实验步骤：

根据《unix 网络编程》书中的实例或者网上搜得的例子作为参考，编写.c 和.h 文件。分别编写服务器和客户端两端的代码，其中，由于是在一台机器上开发，因此客户端的代码访问服务器的地址定为 127.0.0.1 即可。

看懂例子 makefile。

编译、运行

## 1.5

实验报告提交物要求：

需要提交截图，截图里面要有运行结果，为避免雷同，截图中还要有本机的 mac 地址信息。

**注意！要在一张图里面。**

# 2

实验 2：TCP 套接口通信实验

同实验 1，换为 TCP 套接口。

## 2.1

实验预计时间：

40 分钟左右。

## 2.2

实验报告提交物要求：

需要提交截图，截图里面要有运行结果，为避免雷同，截图中还要有本机的 mac 地址信息。

**注意！要在一张图里面。**

# 3

实验 3：RAW 套接口通信实验

同实验 1，换为 RAW 套接口。

## 3.1

实验预计时间：

20 分钟左右。

## 3.2

实验报告提交物要求：

需要提交截图，截图里面要有运行结果，为避免雷同，截图中还要有本机的 mac 地址信息。

**注意！要在一张图里面。**

# 4

实验 4：高级套接口编程（选项和控制信息）

## 4.1

目标：

l 学会使用套接口选项和控制信息

## 4.2

预备知识：

l 阅读《unix 网络编程》相关章节，掌握基本用法。

## 4.3

实验预计时间：

30 分钟

## 4.4

实验步骤：

试着选择前面实验的应用程序代码中加入读取选项和控制信息的代码，运行、调试。

## 4.5

实验报告提交物要求：

同上。

# 5

实验 5：多线程服务器

## 5.1

目标：

在这个实验中，您将学会使用多线程建立服务器应用程序，使得应用程序接收客户端来访时，能够支持并发。

## 5.2

预备知识：

l 学习 linux 多线程的基本系统调用。

l 阅读《unix 网络编程》相关章节，掌握基本用法。

## 5.3

实验预计时间：

30 分钟左右

## 5.4

实验步骤：

将服务器用并发线程实现，要求每来一个客户端，都要单独启动一个线程来处理，进而实现并发特性。

## 5.5

实验报告提交物要求：同上。

# 6

实验 6：多路 io 用法

## 6.1

目标：

在这个实验中，您将学会使用基于 select 的多路阻塞的 io 模式，使应用程序能够支持文件描述符的输入输出。

## 6.2

预备知识：

l 阅读《unix 网络编程》相关章节，学习 select 和 fdset 等基本系统调用。

## 6.3

实验预计时间：

40 分钟左右

## 6.4

实验步骤：

将服务器用两个套接口来接口客户端的访问，一个是 tcp 套接口，一个是 udp 套接口，客户端也用这两个套接口与服务器收发报文。其中，select 的多路 io 只在一端（服务器或客户端）实现即可，主要是为了学会用法。

## 6.5

实验报告提交物要求：

同上。
